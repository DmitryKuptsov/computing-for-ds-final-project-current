.PHONY: install lint format typecheck test run clean

install:
	@echo "ğŸ“¦ Installing project with uv..."
	uv sync --all-extras

lint:
	@echo "ğŸ§¹ Linting..."
	uv run ruff check src tests

format:
	@echo "ğŸ¨ Formatting..."
	uv run black src tests

typecheck:
	@echo "ğŸ” Type checking..."
	uv run mypy src --ignore-missing-imports

test:
	@echo "ğŸ§ª Running tests..."
	uv run pytest -v --cov=src/home_credit --cov-report=term-missing

run:
	@echo "ğŸš€ Running pipeline..."
	uv run python main.py

clean:
	@echo "ğŸ—‘ï¸ Cleaning artifacts..."
	rm -rf artifacts .pytest_cache .mypy_cache .ruff_cache .coverage
